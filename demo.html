<!DOCTYPE html>
<html>
<head>
  <title></title>
  <link rel="stylesheet" type="text/css" href="./dist/semantic.css" />
  <script src="./jquery-2.1.3.min.js"></script>
  <script src="./dist/semantic.js" ></script>
</head>

<body>
  <div class="ui page vertically padded grid">

    <!-- header margin -->
    <div class="ui grid">
      <div class="row">
      </div>
    </div>

    <!-- content -->
    <div class="ui grid">
      <div class="row">
        <div class="column">

          <!-- piles -->
          <div class="ui piled segment">
            
            <!-- piles padding -->
            <div class="ui grid">
              <div class="row">
              </div>
            </div>

            <!-- profile -->
            <div class="ui two column divided grid">
              <div class="column">
                <div class="ui three column grid">
                  <div class="two wide column"></div>
                  <!-- info -->
                  <div class="twelve wide column">
                    <div class="row">
                      <div class="column">
                        <form class="ui form" id='form'>
                          <h4 class="ui dividing header">Resume</h4>
                          <div class="field">
                            <div class="ui corner labeled input">
                              <input class='required' type="email" name="email" placeholder="Email">
                              <div class="ui corner label">
                                <i class="asterisk icon"></i>
                              </div>
                            </div>
                          </div>
                          <div class="field">
                            <div class="ui corner labeled input">
                              <input class='required' type="text" name="nick" placeholder="Nick">
                              <div class="ui corner label">
                                <i class="asterisk icon"></i>
                              </div>
                            </div>
                          </div>
                          <div class="field">
                            <div class="ui corner labeled input">
                              <input class='required' type="password" name="password" placeholder="Password">
                              <div class="ui corner label">
                                <i class="asterisk icon"></i>
                              </div>
                            </div>                            
                          </div>
                          <div class="field">
                            <div class="ui corner labeled input">
                              <input class='required' type="password" name="confirm-password" placeholder="Confirm Password">
                              <div class="ui corner label">
                                <i class="asterisk icon"></i>
                              </div>
                            </div>                            
                          </div>
                          <div class="inline fields">
                            <label for="fruit">Sex:</label>
                            <div class="field">
                              <div class="ui radio checkbox checked">
                                <input type="radio" name="sex" checked="">
                                <label>male</label>
                              </div>
                            </div>
                            <div class="field">
                              <div class="ui radio checkbox">
                                <input type="radio" name="sex">
                                <label>female</label>
                              </div>
                            </div>
                          </div>
                          <div class="grouped fields">
                            <label>Interests Group:</label>
                            <div class="field">
                              <div class="ui checkbox">
                                <input type="checkbox">
                                <label>Node.js</label>
                              </div>
                            </div>
                            <div class="field">
                              <div class="ui checkbox">
                                <input type="checkbox" name="fruit">
                                <label>JavaScript</label>
                              </div>
                            </div>
                            <div class="field">
                              <div class="ui checkbox">
                                <input type="checkbox" name="fruit">
                                <label>Ruby</label>
                              </div>
                            </div>
                            <div class="field">
                              <div class="ui checkbox">
                                <input type="checkbox" name="fruit">
                                <label>Git</label>
                              </div>
                            </div>
                            <div class="field">
                              <div class="ui checkbox">
                                <input type="checkbox" name="fruit">
                                <label>Lua</label>
                              </div>
                            </div>
                            <div class="field">
                              <div class="ui checkbox">
                                <input type="checkbox" name="fruit">
                                <label>C</label>
                              </div>
                            </div>
                            <div class="field">
                              <div class="ui checkbox">
                                <input type="checkbox" name="fruit">
                                <label>React</label>
                              </div>
                            </div>
                            <div class="field">
                              <div class="ui checkbox">
                                <input type="checkbox" name="fruit">
                                <label>Mongoose</label>
                              </div>
                            </div>
                            <div class="field">
                              <div class="ui checkbox">
                                <input type="checkbox" name="fruit">
                                <label>Steam</label>
                              </div>
                            </div>
                          </div>
                        </form>
                      </div>
                    </div>
                  </div>
                  <div class="two wide column"></div>
                </div>
              </div>

              <div class="column">
                <div class="ui two column grid">
                  <div class="four wide column"></div>
                  <div class="twelve wide column">
                    <!-- avastar -->
                    <div class="ui special cards">
                      <div class="card">
                        <div class="dimmable image">
                          <div class="ui dimmer">
                            <div class="content">
                              <div class="center">
                                <input hidden type="file" id='file' />
                                <div class="ui inverted toBin button" id='changeimg'>更换照片</div>
                              </div>
                            </div>
                          </div>
                          <img id='image'>
                        </div>
                        <div class="content">
                          <a class="header">random role</a>
                          <div class="meta">
                            <span class="date">Joined in Mar 2015</span>
                          </div>
                        </div>
                        <div class="extra content">
                          <a>
                            <i class="users icon"></i>
                            2333 friends
                          </a>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="ui grid">
            <div class="one wide column"></div>
              <div class="nine wide column">
              <div class="ui form">
                <div class="field">
                  <label>Birthday</label>
                  <div class="three fields">
                    <div class="field">
                      <div class="ui selection dropdown">
                        <input class='required' type="hidden" name="year">
                        <div class="default text">Year</div>
                        <i class="dropdown icon"></i>
                        <div class="menu">
                          <div class="item" data-value="1">1993</div>
                          <div class="item" data-value="0">1994</div>
                        </div>
                      </div>
                    </div>
                    <div class="field">
                      <div class="ui selection dropdown">
                        <input class='required' type="hidden" name="month">
                        <div class="default text">Month</div>
                        <i class="dropdown icon"></i>
                        <div class="menu">
                          <div class="item" data-value="1">11</div>
                          <div class="item" data-value="0">12</div>
                        </div>
                      </div>
                    </div>
                    <div class="field">
                      <div class="ui selection dropdown">
                        <input class='required' type="hidden" name="day">
                        <div class="default text">Day</div>
                        <i class="dropdown icon"></i>
                        <div class="menu">
                          <div class="item" data-value="1">5</div>
                          <div class="item" data-value="0">6</div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                </div>
              </div>
            </div>

            <div class="ui three column grid">
              <div class="one wide column"></div>
              
              <div class="fourteen wide column">          
                  <!-- progress bar -->
                <div class="ui indicating progress" data-value="1" data-total="8" id="progress_bar">
                  <div class="bar">
                    <div class="progress"></div>
                  </div>
                  <div class="label"></div>
                </div>
              </div>

              <div class="one column row"></div>
            </div>

            <!-- submit & reset -->
            <div class="ui grid">
              <div class="twelve wide column"></div>
              <div class="three wide column">
                <div class="ui buttons">
                  <div class="ui red button" id='reset'>重置</div>
                  <div class="or"></div>
                  <div class="ui teal button" id='submit'>提交</div>
                </div>
              </div>
            </div>

            <!-- piles tail margin -->
            <div class="ui grid">
              <div class="row">
              </div>
            </div>

          </div>
        </div>
      </div>

    </div>

    <!-- bottom margin -->
    <div class="ui grid">
      <div class="row">
      </div>
    </div>

  </div>

  <script type="text/javascript">
    var last = 0; 
    var required = $('.required');
    var file = document.querySelector('#file');

    $('document').ready(function () {
      document.querySelector('#image').src = parseInt(Math.random() * 10) + '.jpg';
    });
    $('.special.cards .image').dimmer({ on: 'hover' });
    $('.ui.radio.checkbox').checkbox();
    $('.ui.checkbox').checkbox();
    $('.ui.dropdown').dropdown();
    $('#progress_bar').progress({
      label: 'ratio',
      text: {
        ratio: '已完成 {value} of {total}',
        active: '当前进度: {percent}%',
        success : '✓ Nice job! 现在可以单击"提交"以继续 →'
      }
    });
    $('#reset').click(function (e) {
      document.querySelector('#form').reset();
      $('.ui.dropdown').dropdown('clear');
      $('#progress_bar')
        .progress('decrement', 8)
        .progress({
          label: 'ratio',
          text: {
            ratio: '已完成 {value} of {total}',
            active: '当前进度: {percent}%',
            success : '✓ Nice job! 现在可以单击"提交"以继续 →'
          }
        });
      document.querySelector('#image').src = parseInt(Math.random() * 10) + '.jpg';
    });
    $('#submit').click(function (e) {
      var classList = document.querySelector('.piled').classList;
      classList.add('loading');
      setTimeout(function (classList) {
        document.querySelector('#reset').click();
        classList.remove('loading');
      }, 3000, classList);
    });

    document.body.onchange = function (e) {
      var current = Array.prototype.reduce.call(required, function (a, b, i) { 
        return a + (b.value.match(/^\s*$/) ? 0 : 1)
      }, 0);
      var n = last - current;
      last = current;
      if (n > 0)
        $('#progress_bar').progress('decrement', n);
      else if (n < 0)
        $('#progress_bar').progress('increment', -n);
    };

    file.onchange = function (e) {
      var url = URL.createObjectURL(e.target.files[0]);
      document.querySelector('#image').src = url;
    };

    $('#changeimg').click(function (e) {
      file.click();
    });
  </script>
</body>
</html>